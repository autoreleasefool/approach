swift-tools-version: 5.7.1

package:
  name: BowlingCompanion

  platforms:
    iOS:
      - .v16

  dependencies:
    - url: "https://github.com/pointfreeco/swift-composable-architecture.git"
      from: "0.42.0"
      exports:
        - Dependencies
        - ComposableArchitecture
    - url: "https://github.com/groue/GRDB.swift.git"
      from: "6.0.0"
      exports:
        - GRDB

  feature:
    - name: AlleyEditorFeature
      dependencies:
        - LaneEditorFeature
        - BaseFormFeature
        - PersistenceService
        - SharedModelsViewsLibrary
        - StringsLibrary
    - name: AlleysListFeature
      dependencies:
        - AlleyEditorFeature
        - AlleysDataProvider
        - SharedModelsViewsLibrary
    - name: AppFeature
      dependencies:
        - AlleysListFeature
        - BowlersListFeature
        - GearListFeature
        - SettingsFeature
    - name: BowlerEditorFeature
      dependencies:
        - BaseFormFeature
        - PersistenceService
    - name: BaseFormFeature
      dependencies:
        - ThemesLibrary
        - ViewsLibrary
    - name: BowlersListFeature
      dependencies:
        - BowlersDataProvider
        - BowlerEditorFeature
        - FeatureFlagService
        - LeaguesListFeature
        - StatisticsWidgetsFeature
    - name: FeatureFlagListFeature
      dependencies:
        - FeatureFlagService
    - name: GameEditorFeature
      dependencies:
        - SwiftUIExtensionsLibrary
        - SharedModelsLibrary
        - ThemesLibrary
        - ViewsLibrary
    - name: GearEditorFeature
      dependencies:
        - BaseFormFeature
        - BowlersDataProvider
        - PersistenceService
        - ResourcePickerFeature
        - StringsLibrary
    - name: GearListFeature
      dependencies:
        - GearEditorFeature
        - GearDataProvider
        - SharedModelsViewsLibrary
    - name: LaneEditorFeature
      dependencies:
        - LanesDataProvider
        - PersistenceService
        - StringsLibrary
        - SwiftUIExtensionsLibrary
        - ThemesLibrary
        - ViewsLibrary
    - name: LeagueEditorFeature
      dependencies:
        - AlleysDataProvider
        - BaseFormFeature
        - PersistenceService
        - ResourcePickerFeature
        - SharedModelsViewsLibrary
    - name: LeaguesListFeature
      dependencies:
        - LeaguesDataProvider
        - LeagueEditorFeature
        - RecentlyUsedService
        - SeriesListFeature
        - SharedModelsViewsLibrary
    - name: ResourcePickerFeature
      dependencies:
        - StringsLibrary
        - ThemesLibrary
        - ViewsLibrary
    - name: ScoreSheetFeature
      dependencies:
        - SharedModelsLibrary
    - name: SeriesEditorFeature
      dependencies:
        - AlleysDataProvider
        - BaseFormFeature
        - DateTimeLibrary
        - PersistenceService
    - name: SeriesListFeature
      dependencies:
        - DateTimeLibrary
        - SeriesDataProvider
        - SeriesEditorFeature
        - SeriesSidebarFeature
    - name: SeriesSidebarFeature
      dependencies:
        - GamesDataProvider
        - GameEditorFeature
    - name: SettingsFeature
      dependencies:
        - ConstantsLibrary
        - FeatureFlagListFeature
    - name: StatisticsWidgetsFeature
      dependencies:
        - ThemesLibrary
        - ViewsLibrary

  data_provider:
    - name: AlleysDataProvider
      dependencies:
        implementation:
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: BowlersDataProvider
      dependencies:
        implementation:
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: FramesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: GamesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: GearDataProvider
      dependencies:
        implementation:
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: LanesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: LeaguesDataProvider
      dependencies:
        implementation:
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: SeriesDataProvider
      dependencies:
        implementation:
          - PersistenceService

  service:
    - name: FeatureFlagService
      dependencies:
        interface:
          - FeatureFlagLibrary
    - name: FileManagerService
    - name: PersistenceService
      dependencies:
        interface:
          - SharedModelsLibrary
          - SharedModelsFetchableLibrary
        implementation:
          - FileManagerService
          - SharedModelsPersistableLibrary
    - name: PreferenceService
      dependencies:
        implementation:
          - ComposableArchitecture
    - name: RecentlyUsedService
      dependencies:
        implementation:
          - PreferenceService

  library:
    - name: ConstantsLibrary
      dependencies:
        - StringsLibrary
    - name: DateTimeLibrary
      requires_tests: true
    - name: FeatureFlagLibrary
      requires_tests: true
    - name: SharedModelsLibrary
      dependencies:
        - StringsLibrary
    - name: SharedModelsFetchableLibrary
      dependencies:
        - SharedModelsLibrary
    - name: SharedModelsMocksLibrary
      dependencies:
        - SharedModelsLibrary
    - name: SharedModelsViewsLibrary
      dependencies:
        - DateTimeLibrary
        - SharedModelsLibrary
        - ThemesLibrary
        - ViewsLibrary
    - name: SharedModelsPersistableLibrary
      dependencies:
        - SharedModelsLibrary
        - Dependencies
        - GRDB
    - name: SortingLibrary
    - name: StringsLibrary
    - name: SwiftUIExtensionsLibrary
    - name: ThemesLibrary
    - name: ViewsLibrary
      dependencies:
        - ComposableArchitecture
        - StringsLibrary
        - ThemesLibrary
