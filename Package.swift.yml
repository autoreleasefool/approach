swift-tools-version: 5.7.1

package:
  name: BowlingCompanion
  defaultLocalization: "en"

  platforms:
    iOS:
      - .v16

  dependencies:
    - url: "https://github.com/apple/swift-async-algorithms.git"
      from: "0.0.4"
      exports:
        - AsyncAlgorithms
    - url: "https://github.com/pointfreeco/swift-dependencies.git"
      from: "0.1.2"
      exports:
        - Dependencies
    - url: "https://github.com/pointfreeco/swift-composable-architecture.git"
      from: "0.49.2"
      exports:
        - ComposableArchitecture
    - url: "https://github.com/pointfreeco/swift-snapshot-testing.git"
      from: "1.10.0"
      exports:
        - SnapshotTesting
    - url: "https://github.com/groue/GRDB.swift.git"
      from: "6.6.0"
      exports:
        - GRDB

  feature:
    - name: AlleyEditorFeature
      dependencies:
        - BaseFormFeature
        - LaneEditorFeature
        - LanesDataProvider
        - PersistenceService
        - SharedModelsViewsLibrary
    - name: AlleysListFeature
      dependencies:
        - AlleyEditorFeature
        - AlleysDataProvider
        - SharedModelsViewsLibrary
    - name: AppFeature
      dependencies:
        - AlleysListFeature
        - BowlersListFeature
        - GearListFeature
        - SettingsFeature
        - TeamsAndBowlersListFeature
    - name: BaseFormFeature
      dependencies:
        - AssetsLibrary
        - ViewsLibrary
    - name: BowlerEditorFeature
      dependencies:
        - BaseFormFeature
        - PersistenceService
    - name: BowlersListFeature
      dependencies:
        - AveragesDataProvider
        - BowlersDataProvider
        - BowlerEditorFeature
        - FeatureFlagsService
        - LeaguesListFeature
        - SortOrderLibrary
        - StatisticsWidgetsFeature
    - name: FeatureFlagsListFeature
      dependencies:
        - FeatureFlagsService
    - name: GameEditorFeature
      dependencies:
        - AssetsLibrary
        - SwiftUIExtensionsLibrary
        - SharedModelsLibrary
        - ViewsLibrary
    - name: GearEditorFeature
      dependencies:
        - BaseFormFeature
        - BowlersDataProvider
        - PersistenceService
        - ResourcePickerLibrary
        - StringsLibrary
    - name: GearListFeature
      dependencies:
        - GearEditorFeature
        - GearDataProvider
        - SharedModelsViewsLibrary
    - name: LaneEditorFeature
      dependencies:
        - AssetsLibrary
        - LanesDataProvider
        - PersistenceService
        - StringsLibrary
        - SwiftUIExtensionsLibrary
        - ViewsLibrary
    - name: LeagueEditorFeature
      dependencies:
        - AlleysDataProvider
        - BaseFormFeature
        - PersistenceService
        - ResourcePickerLibrary
        - SharedModelsViewsLibrary
    - name: LeaguesListFeature
      dependencies:
        - LeaguesDataProvider
        - LeagueEditorFeature
        - RecentlyUsedService
        - SeriesListFeature
        - SharedModelsViewsLibrary
    - name: OpponentEditorFeature
      dependencies:
        - BaseFormFeature
        - OpponentsDataProvider
        - PersistenceService
    - name: OpponentsListFeature
      dependencies:
        - OpponentEditorFeature
        - SortOrderLibrary
    - name: ScoreSheetFeature
      dependencies:
        - SharedModelsLibrary
    - name: SeriesEditorFeature
      dependencies:
        - AlleysDataProvider
        - BaseFormFeature
        - DateTimeLibrary
        - PersistenceService
        - ResourcePickerLibrary
        - SharedModelsViewsLibrary
    - name: SeriesListFeature
      dependencies:
        - DateTimeLibrary
        - SeriesDataProvider
        - SeriesEditorFeature
        - SeriesSidebarFeature
    - name: SeriesSidebarFeature
      dependencies:
        - GamesDataProvider
        - GameEditorFeature
    - name: SettingsFeature
      dependencies:
        - ConstantsLibrary
        - FeatureFlagsListFeature
        - FoundationExtensionsLibrary
        - OpponentsListFeature
    - name: StatisticsWidgetsFeature
      dependencies:
        - AssetsLibrary
        - ViewsLibrary
    - name: TeamEditorFeature
      dependencies:
        - BaseFormFeature
        - BowlersDataProvider
        - ResourcePickerLibrary
        - PersistenceService
    - name: TeamsListFeature
      dependencies:
        - SortOrderLibrary
        - TeamsDataProvider
        - TeamEditorFeature
    - name: TeamsAndBowlersListFeature
      dependencies:
        - BowlersListFeature
        - TeamsListFeature

  data_provider:
    - name: AlleysDataProvider
      dependencies:
        implementation:
          - AsyncAlgorithms
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: AveragesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: BowlersDataProvider
      dependencies:
        implementation:
          - AsyncAlgorithms
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: FramesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: GamesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: GearDataProvider
      dependencies:
        implementation:
          - AsyncAlgorithms
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: LanesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: LeaguesDataProvider
      dependencies:
        implementation:
          - AsyncAlgorithms
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: OpponentsDataProvider
      dependencies:
        implementation:
          - AsyncAlgorithms
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary
    - name: SeriesDataProvider
      dependencies:
        implementation:
          - PersistenceService
    - name: TeamsDataProvider
      dependencies:
        implementation:
          - AsyncAlgorithms
          - PersistenceService
          - RecentlyUsedService
          - SortingLibrary

  service:
    - name: FeatureFlagsService
      dependencies:
        interface:
          - FeatureFlagsLibrary
    - name: FileManagerService
    - name: PersistenceService
      dependencies:
        interface:
          - SharedModelsLibrary
          - SharedModelsFetchableLibrary
        implementation:
          - FileManagerService
          - SharedModelsPersistableLibrary
    - name: PreferenceService
      dependencies:
        implementation:
          - ComposableArchitecture
    - name: RecentlyUsedService
      dependencies:
        implementation:
          - PreferenceService

  library:
    - name: ConstantsLibrary
      dependencies:
        - StringsLibrary
    - name: DateTimeLibrary
      requires_tests: true
    - name: FeatureFlagsLibrary
      requires_tests: true
    - name: FoundationExtensionsLibrary
    - name: ResourcePickerLibrary
      dependencies:
        - AssetsLibrary
        - StringsLibrary
        - ViewsLibrary
    - name: SharedModelsLibrary
      dependencies:
        - StringsLibrary
    - name: SharedModelsFetchableLibrary
      dependencies:
        - SharedModelsLibrary
    - name: SharedModelsMocksLibrary
      dependencies:
        - SharedModelsLibrary
    - name: SharedModelsViewsLibrary
      requires_tests: true
      dependencies:
        - AssetsLibrary
        - DateTimeLibrary
        - SharedModelsLibrary
        - ViewsLibrary
    - name: SharedModelsPersistableLibrary
      dependencies:
        - SharedModelsLibrary
        - Dependencies
        - GRDB
    - name: SortingLibrary
      requires_tests: true
    - name: SortOrderLibrary
      requires_tests: true
      dependencies:
        - ComposableArchitecture
        - StringsLibrary
        - SwiftUIExtensionsLibrary
        - ViewsLibrary
    - name: StringsLibrary
    - name: SwiftUIExtensionsLibrary
      requires_tests: true
    - name: AssetsLibrary
    - name: ViewsLibrary
      requires_tests: true
      dependencies:
        - AssetsLibrary
        - ComposableArchitecture
        - StringsLibrary
