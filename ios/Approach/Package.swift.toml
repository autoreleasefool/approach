name = "Approach"
tools_version = "5.7.1"
default_localization = "en"

# Platforms

[platforms.iOS]
supported = [ ".v16" ]

# Features

[features.AlleyEditor]
features = [ "LaneEditor" ]
repositories = [ "Alleys" ]
dataProviders = [ "Lanes" ]
services = [ "Persistence" ]
libraries = [ "BaseForm", "Extensions", "SharedModelsViews" ]

[features.AlleysList]
features = [ "AlleyEditor" ]
services = [ "FeatureFlags" ]
libraries = [ "ModelsViews", "ResourceList" ]

[features.App]
features = [ "AlleysList", "BowlersList", "GearList", "Settings" ]
services = [ "Analytics" ]

[features.AvatarEditor]
services = [ "Avatar" ]
libraries = [ "SharedModelsViews" ]

[features.BowlerEditor]
repositories = [ "Bowlers" ]
libraries = [ "Form", "Extensions" ]

[features.BowlersList]
features = [ "BowlerEditor", "LeaguesList", "StatisticsWidgets" ]

[features.FeatureFlagsList]
services = [ "FeatureFlags" ]
libraries = [ "Strings" ]

[features.GamesEditor]
features = [ "ScoreSheet" ]
dataProviders = [ "Frames" ]
libraries = [ "Extensions", "SwiftUIExtensions" ]

[features.GamesList]
features = [ "GamesEditor" ]
dataProviders = [ "Games" ]
libraries = [ "DateTime", "ResourceList" ]

[features.GearEditor]
repositories = [ "Bowlers", "Gear" ]
services = [ "Avatar", "FeatureFlags" ]
libraries = [ "Equatable", "Extensions", "Form", "ResourcePicker" ]

[features.GearList]
features = [ "GearEditor" ]
services = [ "RecentlyUsed" ]
libraries = [ "ResourceList", "SortOrder", "ModelsViews" ]

[features.LaneEditor]
libraries = [ "SharedModels", "SwiftUIExtensions", "Views" ]

[features.LeagueEditor]
repositories = [ "Alleys", "Leagues" ]
libraries = [ "BaseForm", "Equatable", "Extensions", "ModelsViews", "ResourcePicker" ]

[features.LeaguesList]
features = [ "LeagueEditor", "SeriesList" ]
services = [ "RecentlyUsed" ]
libraries = [ "SortOrder" ]

[features.OpponentEditor]
services = [ "Persistence" ]
libraries = [ "BaseForm", "Extensions" ]

[features.OpponentsList]
features = [ "BowlerEditor" ]
services = [ "RecentlyUsed" ]
libraries = [ "ResourceList", "SortOrder" ]

[features.ScoreSheet]
libraries = [ "SharedModels", "Views" ]

[features.SeriesEditor]
repositories = [ "Alleys", "Lanes", "Series" ]
services = [ "FeatureFlags" ]
libraries = [ "DateTime", "Equatable", "Extensions", "Form", "ResourcePicker", "ModelsViews" ]

[features.SeriesList]
features = [ "GamesList", "SeriesEditor" ]

[features.Settings]
features = [ "FeatureFlagsList", "OpponentsList" ]
libraries = [ "Constants", "FoundationExtensions" ]

[features.StatisticsWidgets]
libraries = [ "Assets", "Strings" ]

# Repositories

[repositories.Alleys]
services = [ "RecentlyUsed" ]

[repositories.Bowlers]
services = [ "RecentlyUsed" ]
[repositories.Bowlers.tests]
libraries = [ "TestUtilities" ]

[repositories.Frames]
[repositories.Frames.tests]
libraries = [ "TestUtilities" ]

[repositories.Games]
[repositories.Games.tests]
libraries = [ "TestUtilities" ]

[repositories.Gear]
services = [ "RecentlyUsed" ]
[repositories.Gear.tests]
libraries = [ "TestUtilities" ]

[repositories.Lanes]
[repositories.Lanes.tests]
libraries = [ "TestUtilities" ]

[repositories.Leagues]
services = [ "RecentlyUsed" ]

[repositories.Series]
[repositories.Series.tests]
libraries = [ "TestUtilities" ]

# Data Providers

[dataProviders.Alleys]
services = [ "Persistence", "RecentlyUsed" ]
libraries = [ "Sorting" ]
dependencies = [ "AsyncAlgorithms" ]

[dataProviders.Frames]
services = [ "Persistence" ]

[dataProviders.Games]
services = [ "Persistence" ]

[dataProviders.Lanes]
services = [ "Persistence" ]

# Services

[services.AddressLookup]
[services.AddressLookup.interface]
dependencies = [ "XCTestDynamicOverlay" ]

[services.Analytics]
libraries = [ "Constants" ]
dependencies = [ "TelemetryClient" ]

[services.Avatar]
[services.Avatar.interface]
libraries = [ "Assets", "SharedModels" ]

[services.Database]
services = [ "FileManager" ]
[services.Database.interface]
suitable_for_dependents_matching = "\\w+Repository$"
dependencies = [ "GRDB" ]

[services.FeatureFlags]
services = [ "Preference" ]
[services.FeatureFlags.interface]
libraries = [ "FeatureFlags" ]

[services.FileManager]

[services.Persistence]
services = [ "FileManager" ]
libraries = [ "SharedModelsPersistable" ]
[services.Persistence.interface]
libraries = [ "SharedModelsFetchable" ]

[services.Preference]

[services.RecentlyUsed]
services = [ "Preference" ]

[services.Scoring]
services = [ "Persistence" ]
[services.Scoring.interface]
libraries = [ "SharedModels" ]

# Libraries

[libraries.Assets]
skip_tests = true

[libraries.BaseForm]
libraries = [ "FeatureAction", "Views" ]
dependencies = [ "Dependencies" ]

[libraries.Constants]
skip_tests = true
libraries = [ "Strings" ]

[libraries.DatabaseModels]
libraries = [ "Extensions", "Models" ]
dependencies = [ "GRDB" ]
[libraries.DatabaseModels.tests]
services = [ "Database" ]
libraries = [ "TestUtilities" ]

[libraries.DateTime]

[libraries.Equatable]

[libraries.Extensions]

[libraries.FeatureAction]
skip_tests = true
dependencies = [ "ComposableArchitecture" ]

[libraries.FeatureFlags]

[libraries.Form]
libraries = [ "FeatureAction", "Views" ]
dependencies = [ "Dependencies" ]

[libraries.FoundationExtensions]
skip_tests = true

[libraries.Models]
skip_tests = true

[libraries.ModelsViews]
libraries = [ "Models", "Views" ]

[libraries.Repository]
libraries = [ "Sorting" ]
dependencies = [ "AsyncAlgorithms" ]

[libraries.ResourceList]
libraries = [ "Equatable", "FeatureAction", "Views" ]

[libraries.ResourcePicker]
libraries = [ "FeatureAction", "Views" ]

[libraries.SharedModels]
libraries = [ "Strings" ]

[libraries.SharedModelsFetchable]
libraries = [ "SharedModels" ]

[libraries.SharedModelsMocks]
suitable_for_dependents_matching = "\\w+Tests$"
libraries = [ "SharedModels" ]

[libraries.SharedModelsPersistable]
libraries = [ "Extensions", "SharedModels" ]
dependencies = [ "Dependencies", "GRDB" ]

[libraries.SharedModelsViews]
libraries = [ "SharedModels", "Views" ]

[libraries.Sorting]

[libraries.SortOrder]
libraries = [ "FeatureAction", "SwiftUIExtensions", "Views" ]

[libraries.Strings]
skip_tests = true

[libraries.SwiftUIExtensions]

[libraries.TestUtilities]
suitable_for_dependents_matching = "\\w+Tests$"
skip_tests = true

[libraries.Views]
libraries = [ "Assets", "Strings" ]
dependencies = [ "ComposableArchitecture" ]

# External Dependencies

[dependencies.AsyncAlgorithms]
url = "https://github.com/apple/swift-async-algorithms.git"
from = "0.0.4"

[dependencies.GRDB]
url = "https://github.com/groue/GRDB.swift.git"
from = "6.6.0"

[dependencies.ComposableArchitecture]
url = "https://github.com/pointfreeco/swift-composable-architecture.git"
revision = "fc17996ded63b136741ab2e0c0e0d549a8486adc"

[dependencies.Dependencies]
url = "https://github.com/pointfreeco/swift-dependencies.git"
from = "0.1.2"

[dependencies.SnapshotTesting]
suitable_for_dependents_matching = "\\w+Tests$"
url = "https://github.com/pointfreeco/swift-snapshot-testing.git"
from = "1.10.0"

[dependencies.TelemetryClient]
url = "https://github.com/TelemetryDeck/SwiftClient.git"
from = "1.4.2"

[dependencies.XCTestDynamicOverlay]
url = "https://github.com/pointfreeco/xctest-dynamic-overlay.git"
from = "0.8.4"

# Default Imports

[defaults.features]
libraries = [ "FeatureAction" ]
dependencies = [ "ComposableArchitecture" ]

[defaults.features.tests]
libraries = [ "SharedModelsMocks" ]
dependencies = [ "SnapshotTesting" ]

[defaults.dataProviders.interface]
libraries = [ "SharedModelsFetchable" ]
dependencies = [ "Dependencies" ]

[defaults.dataProviders.tests]
libraries = [ "SharedModelsMocks" ]
dependencies = [ "SnapshotTesting" ]

[defaults.repositories]
services = [ "Database" ]
libraries = [ "DatabaseModels", "Repository" ]

[defaults.repositories.interface]
libraries = [ "Models" ]
dependencies = [ "Dependencies" ]

[defaults.repositories.tests]
services = [ "Database" ]
dependencies = [ "SnapshotTesting" ]

[defaults.services.interface]
dependencies = [ "Dependencies" ]

[defaults.services.tests]
libraries = [ "SharedModelsMocks" ]
dependencies = [ "SnapshotTesting" ]

[defaults.libraries.tests]
libraries = [ "SharedModelsMocks" ]
dependencies = [ "SnapshotTesting" ]
